<div class="background">
  <div class="login">
    <app-header title="Login"></app-header>
    <app-alert
      [message]="errorMessage"
      [visible]="errorMessage !== ''"
    ></app-alert>
    <form
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()"
      autocomplete="off"
      class="form"
    >
      <div class="content">
        <div class="group">
          <input
            type="email"
            id="username"
            placeholder="Username"
            [formControlName]="loginFormUsername"
          />
          @if(this.loginForm.controls[loginFormUsername].invalid && isSubmitted)
          {
          <span class="error">Please enter a valid email</span>
          }
        </div>
        <div class="group">
          <input
            type="password"
            id="password"
            placeholder="Password"
            [formControlName]="loginFormPassword"
          />
          @if(this.loginForm.controls[loginFormPassword].invalid && isSubmitted)
          {
          <span class="error"
            >Password is required and must be at least 6 charachters long</span
          >
          }
        </div>
      </div>
      <div class="submit bottom">
        <app-button type="submit" [loading]="isLoading"
          ><img
            src="../../../../assets/icons/icons8-check-24.png"
            alt="submit-icon"
            width="20"
        /></app-button>
      </div>
    </form>
    <p>No account yet ? <a [routerLink]="registerRoute">Sign up now !</a></p>
  </div>
</div>
